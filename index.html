<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="blog webového vývojáře">
    <meta name="author" content="Petr Svoboda">
    <title>Blog | Petr Svoboda</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="css/milligram.min.css">
    <link rel="stylesheet" href="css/blog.css">
</head>

<body>
<div id="content"></div>
<div id="pagination"></div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://pagination.js.org/dist/2.6.0/pagination.min.js"></script>
<script type="module">
    let json = await fetch('posts.json')
        .then(raw => raw.json());
    let data = await json.at(-1).data;
    let limit = 10;

    $('#pagination').pagination({
        dataSource: data,
        pageSize: limit,
        callback: function (data, pagination) {
            let html = '<ul>';
            $.each(data, function (index, item) {
                html += `<li><a href="post.html?article=${item.link}">${item.title}</a></li>`;
            });
            html += '</ul>';
            $('#content').html(html);
        }
    });
</script>
</body>

</html>
